$(function(){var c=document.getElementsByClassName("seotoaster-panel")[0],d=$(document.getElementsByClassName("section-list")[0]),a,e;null!=localStorage.getItem("panel-section-active")&&d.find(".section:eq("+localStorage.getItem("panel-section-active")+")").addClass("active");d.on("click",".section-btn:not(#cleancache)",function(){a=this.closest(".section");e=$(a).index();$(a).hasClass("active")?($(a).removeClass("active"),localStorage.removeItem("panel-section-active")):($(".section").removeClass("active"),
    localStorage.setItem("panel-section-active",e),$(a).addClass("active"))});$(".show-hide").on("click",function(){$(c).toggleClass("s h");$(this).toggleClass("ticon-arrow-up ticon-arrow-down")});$(document).on("click",function(b){$(c).is(b.target)||0!==$(c).has(b.target).length||($(".section").removeClass("active"),localStorage.removeItem("panel-section-active"))});$("#edit404").click(function(){$.get($("#website_url").val()+"backend/backend_page/edit404page",function(b){b.notFoundUrl?window.location.href=
    b.notFoundUrl:smoke.alert($("#edit404-errorMsg").html(),{classname:"errors"})})});$("#cleancache").on("click",function(){var b=$(this);b.removeClass("ticon-loop");b.addClass("run ticon-loading");$.get($("#website_url").val()+"backend/backend_content/cleancache/",function(a){0==a.error?showMessage(a.responseText,!1,2500):showMessage(a.responseText,!0);b.removeClass("run ticon-loading").addClass("ticon-loop")})});$("#del-this-page").click(function(){var a=$("#del-page-id").val(),c=$("#website_url").val();
    0==$(this).data("cid")?$.getJSON(c+"backend/backend_page/checkforsubpages/pid/"+a,function(a){if(a.responseText.subpages)return smoke.alert(a.responseText.message,function(a){},{classname:"warning"}),!1;showDelConfirm()}):showDelConfirm()})});
function showDelConfirm(){var c=$("#del-page-id").val(),d=$("#website_url").val();smoke.confirm("Are you sure you want to delete this page?",function(a){a&&$.ajax({url:d+"backend/backend_page/delete/id/"+c,type:"DELETE",dataType:"json",beforeSend:function(){smoke.signal("Removing page...",3E4)},success:function(a){hideSpinner();a.error?smoke.alert(a.responseText.body,{classname:"error"}):top.location.href=d}})},{classname:"error",ok:"Yes",cancel:"No"})};